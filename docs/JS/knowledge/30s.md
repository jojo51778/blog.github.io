## 日常30s小知识

#### 测量函数执行所需的时间。

```js
const timeTaken = callback => {
  console.time('timeTaken');
  const r = callback();
  console.timeEnd('timeTaken');
  return r;
};

timeTaken(() => Math.pow(2, 10)); 
```

#### 将字符串截断为指定长度。

```js
const truncateString = (str, num) =>
  str.length > num ? str.slice(0, num > 3 ? num - 3 : num) + '...' : str;

truncateString('boomerang', 7); // 'boom...'
```
#### 计算数组中某个值的出现次数。
Array.prototype.reduce()每次遇到数组中的特定值时，使用递增计数器。

```js
const countOccurrences = (arr, val) => arr.reduce((a, v) => (v === val ? a + 1 : a), 0);

countOccurrences([1, 1, 2, 1, 2, 3], 1); // 3
```
#### 映射表
渲染具有从对象数组和属性名称列表动态创建的行的表。
```js
const people = [
  { name: 'John', surname: 'Smith', age: 42 },
  { name: 'Adam', surname: 'Smith', gender: 'male' }
];
const propertyNames = ['name', 'surname', 'age'];
let filteredData = people.map(v =>
  Object.keys(v)
    .filter(k => propertyNames.includes(k))
    .reduce((acc, key) => ((acc[key] = v[key]), acc), {})
);
filteredData()
```